<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type="text/css">
      @font-face {
        font-family: "Bebas Regular";
        src: url("../Bebas-Regular.ttf") format("truetype");
      }

      :root {
        --font-size-large: calc(var(--spacing) * 1.2);
        --font-size-small: calc(var(--spacing) * 0.6);
        --hover-transition: 0.5s ease-in-out;

        --spacing: 3vw;
        --max-parallax: calc(var(--spacing) / 3);
        --grid-columns: 1fr 1fr 1fr;
        --separator-columns: 1 / 4;
        --block-height: calc(var(--spacing) * 3);
        --block-border: calc(var(--spacing) / 6);
        --separator-label-width: 10vw;
        --separator-bar-width: 30vw;
        --separator-bar-height: 2px;

        /* In screen mix mode white remains white and black is fully transparent. Shades of gray are partially
           transparent. */
        --mask-mix-mode: screen;
        --mask-opaque: white;
        --mask-transparent: black;

      }

      @media(max-width: 500px) {
        :root {
          --grid-columns: 1fr;
          --font-size-large: calc(var(--spacing) * 3);
          --font-size-small: calc(var(--spacing) * 1.5);
          --block-height: calc(var(--spacing) * 6);
          --separator-columns: 1;
          --separator-label-width: 20vw;
        }
      }

      body {
        margin: 0;
        font-family: "Bebas Regular";
      }

      .container {
        display: grid;
        grid-template-columns: var(--grid-columns);
        gap: calc(var(--spacing) - var(--max-parallax));
        margin: var(--spacing);
      }

      a {
        height: var(--block-height);

        font-size: var(--font-size-large);
        text-decoration: none;

        background: var(--link-image);
        background-size: cover;
        background-position: 50% 50%;
        /* Smooth over the snap of parallaxing the background when you mouse in or out. Note the transition prop on
           hover that zeroes this out so we don't get a laggy parallax effect. */
        transition: background-position 0.1s ease-in-out;

        padding: var(--block-border);
        position: relative;
        display: flex;
        align-items: center;
        justify-content: space-around;
      }

      a:hover {
        background-position:
          calc(50% + (var(--link-cx) - var(--mouse-x)) / var(--link-width) * var(--max-parallax))
          calc(50% + (var(--link-cy) - var(--mouse-y)) / var(--link-height) * var(--max-parallax));
        transition: background-position 0s linear;
      }

      /* Mask out the background outside the border of the label. This gives us extra background space so the parallax
         can slide the background around without having it visibly repeat. */
      a:after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        border: var(--max-parallax) solid var(--mask-opaque);
        mix-blend-mode: var(--mask-mix-mode);
      }

      a .label {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: space-around;
        text-align: center;
        box-sizing: border-box;
        height: calc(100% - var(--max-parallax));
        width: calc(100% - var(--max-parallax));

        color: var(--mask-transparent);
        background: var(--mask-opaque);
        border: var(--block-border) solid var(--mask-transparent);
        mix-blend-mode: var(--mask-mix-mode);
        transition: color var(--hover-transition), background var(--hover-transition);
      }

      @media(max-width: 500px) {
        a .label {
          background: var(--mask-transparent);
          color: var(--mask-opaque);
        }
      }

      a:hover .label {
        background: var(--mask-transparent);
        color: var(--mask-opaque);
      }

      .separator {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: center;
        grid-column: var(--separator-columns);
        margin: var(--spacing) 0;
      }

      .separator:first-of-type {
        margin-top: 0;
      }

      .separator .bar {
        display: inline-block;
        height: var(--separator-bar-height);
        width: var(--separator-bar-width);
        background-color: black;
      }

      .separator .label {
        font-size: var(--font-size-small);
        width: var(--separator-label-width);
        text-align: center;
      }

      .newsblur {
        --link-image: url('./newsblur.png');
      }

      .hackernews {
        --link-image: url('./hackernews.png');
      }

      .rockpapershotgun {
        --link-image: url('./rockpapershotgun.png');
      }

      .kindle {
        --link-image: url('./kindle.png');
      }

      .wunderground {
        --link-image: url('./wunderground.jpg');
      }

      .madeleines {
        --link-image: url('./madeleines.png');
      }

      .tumblr {
        --link-image: url('./tumblr.png');
      }

      .lobsters {
        --link-image: url('./lobsters.png');
      }

      .netflix {
        --link-image: url('./netflix.png');
      }

      .amazonvideo {
        --link-image: url('./amazon.jpg');
      }

      .twitch {
        --link-image: url('./twitch.jpg');
      }

      .daynine {
        --link-image: url('./day9.png');
      }

      .dropout {
        --link-image: url('./dropout.png');
      }

      .nebula {
        --link-image: url('./nebula.jpg');
      }

      .tildes {
        --link-image: url('./tildes.png');
      }

      .kexp {
        --link-image: url('./kexp.jpg');
      }

      .lastfm {
        --link-image: url('./lastfm.jpg');
      }

      .spotify {
        --link-image: url('./spotify.jpg');
      }

      .aurgasm {
        --link-image: url('./aurgasm.jpg');
      }

      .pandora {
        --link-image: url('./pandora.png');
      }

      .westwingweekly {
        --link-image: url('./westwingweekly.png');
      }

      .ideotvpod {
        --link-image: url('./ideotvpod.jpeg');
      }

      .ruined {
        --link-image: url('./ruined.png');
      }

      .soma {
        --link-image: url('./soma.png');
      }

      .steam {
        --link-image: url('./steam.jpg');
      }

      .itch {
        --link-image: url('./itch.png');
      }

      .crossword {
        --link-image: url('./crossword.jpg');
      }

      .pathofexile {
        --link-image: url('./pathofexile.png');
      }
    </style>
    <script type="text/javascript">
      function setLinkPositionProperties() {
        [...document.getElementsByTagName('a')].forEach(link => {
          const box = link.getBoundingClientRect();
          const cx = box.left + box.width / 2;
          const cy = box.top + box.height / 2;
          link.style.setProperty('--link-cx', `${cx}`);
          link.style.setProperty('--link-cy', `${cy}`);
          link.style.setProperty('--link-width', `${box.width}`);
          link.style.setProperty('--link-height', `${box.height}`);
        });
      }

      document.addEventListener('DOMContentLoaded', () => {
        document.addEventListener('resize', setLinkPositionProperties);
        setLinkPositionProperties();
      })

      document.addEventListener('mousemove', event => {
        document.documentElement.style.setProperty('--mouse-x', `${event.clientX}`);
        document.documentElement.style.setProperty('--mouse-y', `${event.clientY}`);
      })
    </script>
  </head>
  <body>
    <div class="container">
      <div class="separator">
        <span class="bar"></span>
        <span class="label">Read</span>
        <span class="bar"></span>
      </div>
      <a class="newsblur" href="https://www.newsblur.com/">
        <span class="label">Newsblur</span>
      </a>
      <a class="hackernews" href="http://hckrnews.com/">
        <span class="label">Hacker News</span>
      </a>
      <a class="rockpapershotgun" href="http://www.rockpapershotgun.com/">
        <span class="label">Rock Paper Shotgun</span>
      </a>
      <a class="kindle" href="https://read.amazon.com/">
        <span class="label">Kindle</span>
      </a>
      <a class="wunderground" href="https://www.wunderground.com/weather/us/ma/somerville/KMASOMER108">
        <span class="label">Wunderground</span>
      </a>
      <a class="madeleines" href="https://madelein.es">
        <span class="label">Madeleines</span>
      </a>
      <a class="tumblr" href="https://www.tumblr.com/dashboard/hubs">
        <span class="label">Tumblr</span>
      </a>
      <a class="lobsters" href="https://lobste.rs">
        <span class="label">Lobsters</span>
      </a>
      <a class="tildes" href="https://tildes.net/">
        <span class="label">Tildes</span>
      </a>
      <div class="separator">
        <span class="bar"></span>
        <span class="label">Watch</span>
        <span class="bar"></span>
      </div>
      <a class="netflix" href="https://netflix.com/browse">
        <span class="label">Netflix</span>
      </a>
      <a class="amazonvideo" href="https://www.amazon.com/Amazon-Video/b/?node=2858778011">
        <span class="label">Amazon Video</span>
      </a>
      <a class="twitch" href="http://www.twitch.tv/directory/following">
        <span class="label">Twitch</span>
      </a>
      <a class="daynine" href="http://day9.tv/">
        <span class="label">Day [9]</span>
      </a>
      <a class="dropout" href="https://www.dropout.tv/browse">
        <span class="label">Dropout</span>
      </a>
      <a class="nebula" href="https://nebula.tv/myshows">
        <span class="label">Nebula</span>
      </a>
      <div class="separator">
        <span class="bar"></span>
        <span class="label">Listen</span>
        <span class="bar"></span>
      </div>
      <a class="kexp" href="http://kexp.org/">
        <span class="label">K E X P</span>
      </a>
      <a class="lastfm" href="http://www.last.fm/user/OmenPigeon/">
        <span class="label">last.fm</span>
      </a>
      <a class="spotify" href="https://play.spotify.com/">
        <span class="label">Spotify</span>
      </a>
      <a class="aurgasm" href="http://aurgasm.us/">
        <span class="label">aurgasm</span>
      </a>
      <a class="pandora" href="https://www.pandora.com/collection/">
        <span class="label">pandora</span>
      </a>
      <a class="westwingweekly" href="http://thewestwingweekly.com/">
        <span class="label">The West Wing Weekly</span>
      </a>
      <a class="ideotvpod" href="https://www.idontevenownatelevision.com/">
        <span class="label">IdeoTVpod</span>
      </a>
      <a class="ruined" href="https://www.patreon.com/ruinedpodcast/posts/">
        <span class="label">Ruined</span>
      </a>
      <a class="soma" href="https://somafm.com/">
        <span class="label">Soma.fm</span>
      </a>
      <div class="separator">
        <span class="bar"></span>
        <span class="label">Play</span>
        <span class="bar"></span>
      </div>
      <a class="steam" href="https://store.steampowered.com/">
        <span class="label">Steam</span>
      </a>
      <a class="itch" href="itch.io">
        <span class="label">Itch.io</span>
      </a>
      <a class="crossword" href="https://www.nytimes.com/crosswords">
        <span class="label">Crossword</span>
      </a>
      <a class="pathofexile" href="https://pathofexile.com/">
        <span class="label">Path of Exile</span>
      </a>
    </div>
  </body>
</html>
